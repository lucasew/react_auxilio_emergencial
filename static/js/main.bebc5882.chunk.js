(this.webpackJsonpreact_auxilio_emergencial=this.webpackJsonpreact_auxilio_emergencial||[]).push([[0],{29:function(e,a,t){e.exports=t(62)},34:function(e,a,t){},51:function(e,a,t){},54:function(e,a,t){},61:function(e,a,t){},62:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),c=t(7),r=t.n(c),i=(t(34),t(6)),l=t(9),u=t(1),s=t(5),d=t(10),m=t.n(d),p=(t(51),function(e){return o.a.createElement("div",{className:"centeredBlock"},e.children)}),f=t(27),b=function(e){var a=(Object(f.isBoolean)(e.cond)?e.cond:e.cond())?e.children:e.fallback;return o.a.createElement("div",null,a)},E=(t(54),function(){var e=Object(u.f)(),a=Object(n.useState)(""),t=Object(s.a)(a,2),c=t[0],r=t[1],l=Object(n.useState)([]),d=Object(s.a)(l,2),f=d[0],E=d[1],h=Object(n.useState)([]),g=Object(s.a)(h,2),v=g[0],O=g[1],j=Object(n.useState)(0),y=Object(s.a)(j,2),k=y[0],w=y[1],C=Object(n.useState)([{code:"202004",name:"abril 2020"},{code:"202005",name:"maio 2020"},{code:"202006",name:"junho 2020"}]),S=Object(s.a)(C,1)[0],I=Object(n.useState)(""),x=Object(s.a)(I,2),B=x[0],N=x[1];return Object(n.useEffect)((function(){m.a.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados/").then((function(e){200===e.status?E(e.data.sort((function(e,a){return e.nome.localeCompare(a.nome)}))):i.b.error("Erro no servidor ao buscar os estados")})).catch((function(e){i.b.error("Erro ao buscar os estados. Abra o console para mais detalhes"),console.log(e)}))}),[]),Object(n.useEffect)((function(){""!==c&&m.a.get("https://servicodados.ibge.gov.br/api/v1/localidades/estados/".concat(c,"/municipios")).then((function(e){200===e.status?O(e.data):i.b.error("Erro no servidor ao buscar as cidades")})).catch((function(e){i.b.error("Erro ao buscar as cidades. Abra o console para mais detalhes"),console.log(e)}))}),[c]),o.a.createElement(p,null,o.a.createElement("form",null,o.a.createElement("h1",null,"uf"),o.a.createElement("select",{name:"uf",id:"uf",autoFocus:!0,required:!0,onChange:function(e){return r(e.target.value)}},o.a.createElement("option",{selected:!0,key:"",value:""},"selecione um estado"),f.map((function(e){return o.a.createElement("option",{key:e.sigla,value:e.sigla},e.nome)}))),o.a.createElement(b,{cond:function(){return""!==c}},o.a.createElement("h1",null,"cidade"),o.a.createElement("select",{name:"city",id:"city",required:!0,onChange:function(e){return w(Number(e.target.value))}},o.a.createElement("option",{selected:!0,key:0,value:0},"selecione um munic\xedpio"),v.map((function(e){return o.a.createElement("option",{key:e.id,value:e.id},e.nome)})))),o.a.createElement(b,{cond:function(){return 0!==k}},o.a.createElement("h1",null,"per\xedodo"),o.a.createElement("select",{name:"periodo",id:"periodo",required:!0,onChange:function(e){return N(e.target.value)}},o.a.createElement("option",{selected:!0,key:"",value:""},"selecione um per\xedodo"),S.map((function(e){return o.a.createElement("option",{key:e.code,value:e.code},e.name)})))),o.a.createElement(b,{cond:function(){return""!==B}},o.a.createElement("br",null),o.a.createElement("button",{onClick:function(){return e.push("/show-cidade/".concat(k,"/").concat(B))}},"consultar"))))});t(60);function h(e){return function(a){Object(i.b)(a,{type:e})}}var g={error:h("error"),success:h("success"),info:h("info"),warning:h("warning"),default:h("default")},v=function(e){return o.a.createElement("p",null,o.a.createElement(b,{cond:void 0!==e.topicKey},o.a.createElement("span",{className:"topicKey"},e.topicKey," ")),o.a.createElement("span",{className:"topicValue"},String(e.topicValue)))},O=(t(61),function(){var e=Object(u.f)(),a=Object(u.h)(),t=a.cidadeId,c=a.periodo,r=parseInt(t);isNaN(r)&&(g.error("Recebido id de cidade que n\xe3o \xe9 um n\xfamero inteiro. Redirecionando para a p\xe1gina inicial..."),e.push("/"));var i=Object(n.useState)(),l=Object(s.a)(i,2),d=l[0],f=l[1];Object(n.useEffect)((function(){m.a.get("https://www.transparencia.gov.br/api-de-dados/auxilio-emergencial-por-municipio",{params:{codigoIbge:r,mesAno:c}}).then((function(e){200!==e.status?(g.error("Erro de servidor ao buscar informa\xe7\xf5es do portal da transpar\xeancia"),console.log(e.data)):f(e.data[0])})).catch((function(e){g.error("Erro ao buscar informa\xe7\xf5es do portal da transparencia. Abra o console para mais detalhes."),console.log(e)}))}),[r,c]);var b=Object(n.useState)(!1),E=Object(s.a)(b,2),h=E[0],O=E[1];setTimeout((function(){O(!0)}),3e3);var j=new Intl.NumberFormat("pt-BR",{style:"currency",currency:"brl"}).format;return o.a.createElement(p,null,void 0===d?o.a.createElement("h1",null,h?"eu ainda n\xe3o desisti! carregando...":"carregando..."):o.a.createElement("div",null,o.a.createElement("h1",null,d.municipio.nomeIBGE.toLowerCase()," - ",d.municipio.uf.sigla.toLowerCase()," (ibge ",d.municipio.codigoIBGE,")"),o.a.createElement(v,{topicKey:"benefici\xe1rios",topicValue:d.quantidadeBeneficiados}),o.a.createElement(v,{topicKey:"valor disponibilizado",topicValue:j(d.valor)})))}),j=function(){var e=Object(u.g)(),a=Object(u.f)();return g.error("O caminho '".concat(e.pathname,"' n\xe3o foi encontrado. Indo para a p\xe1gina inicial...")),a.push("/"),o.a.createElement("h1",null,e.pathname," not found")},y=function(){var e=Object(u.f)();return o.a.createElement("h1",{onClick:function(){return e.push("/")}},"consulta dos benefici\xe1rios do aux\xedlio emergencial")},k=function(){return o.a.createElement(l.a,{basename:"/react-auxilio-emergencial"},o.a.createElement(y,null),o.a.createElement(u.c,null,o.a.createElement(u.a,{component:E,path:"/",exact:!0}),o.a.createElement(u.a,{component:O,path:"/show-cidade/:cidadeId/:periodo"}),o.a.createElement(u.a,{component:j})))};var w=function(){return o.a.createElement("div",null,o.a.createElement(i.a,{position:"bottom-right",autoClose:5e3,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0}),o.a.createElement(k,null))};r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.bebc5882.chunk.js.map